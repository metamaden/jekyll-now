---
title: 'Databike: coding an app about scooter upkeep, in R'
author: "Sean Maden"
date: "4/9/2020"
layout: post
tags:
- R
- Rstats
- grid
- jpeg
- svDialogs
- ascii
categories:
- simulation
- app
- game
- reproducible_code
---

# Introduction and motivation

I've owned my 1987 CH150 Honda elite (a.k.a. "the databike") for almost 2 years, but I'm more or less still a novice when it comes to scooter repair and upkeep. This scooter hobby inspired me to write an app about scooter upkeep. In this post, I describe the early development of `databike`, an app about scooter upkeep.

In `databike`, the user makes decisions about rides and maintenance that impact their bike's condition and the total mileage. Graphics are simple ascii-style text printed with `grid`, and dialogs are pop-up windows managed through `svDialogs`. The app code is available at the [databike repository](https://github.com/metamaden/databike/). This undertaking was novel for me, and I have loads of updates in mind.

# App design decisions

Creating this app in R was a conscious design decision to test my programming knowledge. Rest assured, there are better languages and utilities more commonly used and supported for app development (e.g. developer kits, C++, Java, etc.). 

The challenge of writing app code in R proved to be worthwhile, and lead me to real insights and about the language's potential. More generally, an excercise of this kind is important for continued development and improvement of code to tackle real-world issues, and modern innovations in programming already seek to address issues of this kind (e.g. achieving object-oriented functionality from a functional language, or vice versa).

## User interfacing

I wanted to include a proto user interface and some sort of looping code structure. I appropriated some apps for this task, including `svgDialogs` and `grid`. Building this app in R, with minimal dependencies, proved an interesting challenge, and one that I became engrossed in. Could the app create the illusion of "motion" with looped iteations over graph frames? Could the app manage several types of branching dialogs while also displaying "graphics"? Exploring these questions was a challenge unto itself.

## Goals for app functionality

1. Scheduled error report logs and automated "game testing" (e.g. run app iterations and log outcomes or new errors)
2. Run convenience (e.g. runs from command line, executable file, etc.)
3. Window management (e.g. manage multiple windows)
4. Build (e.g. pass `R CMD CHECK` and `R CMD BUILD`)

# R code examples

This section walks through some of the interface decisions for the early app. Examples are runnable from an active R session.

## Ascii art and "animations"

```
# generic code chunk
```

<img src="https://raw.githubusercontent.com/metamaden/databike/appnotes/imgs/drive.gif" align = "center" alt="drawing" width="200"/>
**Figure 3.** <drive animation>

## User dialogue trees

```
# generic code chunk
```

# Conclusions
